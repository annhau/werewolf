{"version":3,"sources":["Werewolf.js","serviceWorker.js","index.js"],"names":["ROLES","Player","pname","role","Object","classCallCheck","this","active_wolf","init_stats","bitten","protected","seer","muted","hunted","disabled","previous_target","oplayer","r","SetUpPlayer","props","_this","possibleConstructorReturn","getPrototypeOf","call","state","playerNames","e","preventDefault","string","slice","inp","refs","player","value","charAt","toUpperCase","trim","setState","error","includes","push","focus","_this2","row","forEach","n","react_default","a","createElement","className","key","onSubmit","addPlayer","bind","type","ref","onClick","submitPlayerNames","Component","SetUpRole","_this3","numPlayer","length","_this4","total","count","Number","_this5","playerRoles","i","array","j","Math","floor","random","temp","shuffleArray","playerList","wolfNo","index","p","console","log","submitPlayer","_this6","changeSelectRemain","readOnly","createPlayers","Night","_this7","night","currentPlayer","players","currentIndex","actions","_this8","refDiv","checkbox","childNodes","checked","style","background","color","submitActions","_this9","divRef","_this10","changeColor","id","name","required","htmlFor","addAction","Day","_this11","executePlayer","_this12","_this13","originPlayers","map","events","gameOver","logs","restart","nextPhase","albert","goldy","App","_this14","phase","names","filter","reduce","prev","current","activeWolf","getActiveWolf","target","do_action","dead_players","countVillagers","Werewolf_SetUpPlayer","Werewolf_SetUpRole","Werewolf_Night","Werewolf_Day","Boolean","window","location","hostname","match","ReactDOM","render","Werewolf","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a8d9932b.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport { CSSTransitionGroup } from 'react-transition-group' // ES6\n\nimport './App.css';\n\n\nconst ROLES = ['Maria', 'Guard', 'Spell Caster', 'Seer', 'Hunter', 'Werewolf', 'Cursed', 'Villager'];\n\nfunction capitalize(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction shuffleArray(array) {\n    for (var i = array.length - 1; i > 0; i--) {\n        var j = Math.floor(Math.random() * (i + 1));\n        var temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n}\n\n\nclass Player {\n    constructor(pname, role) {\n        this.pname = pname;\n        this.role = role;\n        this.active_wolf = null;\n        this.init_stats();\n    }\n\n    init_stats() {\n        this.bitten = false;\n        this.protected = false;\n        this.seer = false;\n        this.muted = false;\n        this.hunted = false;\n        this.disabled = false;\n        this.previous_target = null;\n    }\n\n    do_action(oplayer) {\n        this.previous_target = oplayer;\n        if (this.disabled) return;\n        let r = this.role;\n        if (r === 'Maria')\n            oplayer.disabled = true;\n        else if (r === 'Guard')\n            oplayer.protected = true;\n        else if (r === 'Spell Caster')\n            oplayer.muted = true;\n        else if (r === 'Seer')\n            oplayer.seer = true;\n        else if (r === 'Hunter')\n            oplayer.hunted = true;\n        else if (this.active_wolf !== null) {\n            if (!oplayer.protected) {\n                if (oplayer.role === 'Cursed') {\n                    oplayer.role = 'Werewolf';\n                    oplayer.active_wolf = 69\n                }\n                else\n                    oplayer.bitten = true;\n            }\n        }\n    }\n}\n\nclass SetUpPlayer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            playerNames: []\n        }\n    }\n\n    addPlayer(e) {\n        e.preventDefault();\n        let playerNames = this.state.playerNames.slice();\n        let inp = capitalize(this.refs.player.value).trim();\n        if (inp === \"\"){\n            this.setState({error: \"Do not use empty string\"})\n        } else if (playerNames.includes(inp)) {\n            this.setState({error: \"Do not use the same name\"});\n        } else {\n            playerNames.push(inp);\n            this.setState({'playerNames': playerNames, error: null})\n        }\n        this.refs.player.focus();\n        this.refs.player.value = \"\";\n    }\n\n    render() {\n        let row = [];\n        let playerNames = this.state.playerNames;\n        this.state.playerNames.forEach(n => row.push(\n            <li className=\"\" key={n}>{n}</li>));\n        return (\n            <div>\n                <h3>Add players to the game</h3>\n                {this.state.error ? <p className=\"text-danger\"> {this.state.error}</p> : null}\n                <ul className=\"mb-3\">{row}</ul>\n                <form className=\"form-inline\" onSubmit={(e) => this.addPlayer.bind(this)(e)}>\n                    <div className=\"input-group mb-3\">\n                        <input type=\"text\" className=\"form-control\" ref=\"player\"/>\n                        <div className=\"input-group-append\">\n                            <button className=\"btn btn-danger\" type=\"submit\">Add</button>\n                        </div>\n                    </div>\n\n                </form>\n                <button className=\"btn btn-danger\" onClick={() => this.props.submitPlayerNames(playerNames)}>Done\n                </button>\n            </div>\n        );\n    }\n}\n\nclass SetUpRole extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            numPlayer: this.props.playerNames.length,\n        }\n    };\n\n    changeSelectRemain() {\n        let total = 0;\n        ROLES.forEach(role => {\n            let count = Number(this.refs[role].value);\n            if (count > 0)\n                total += count\n        });\n        this.setState({numPlayer: this.props.playerNames.length - total});\n    }\n\n    createPlayers() {\n        let playerRoles = [];\n        ROLES.forEach(role => {\n            let count = Number(this.refs[role].value);\n            for (let i = 0; i < count; i++)\n                playerRoles.push(role);\n        });\n        if (playerRoles.length !== this.props.playerNames.length) return;\n        shuffleArray(playerRoles);\n\n        let playerList = [];\n        let wolfNo = 1;\n        this.props.playerNames.forEach((n, index) => {\n            let p = new Player(n, playerRoles[index]);\n\n            if (p.role === 'Werewolf') {\n                p.active_wolf = wolfNo;\n                wolfNo += 1\n            }\n            playerList.push(p); console.log(p.pname, ':', p.role, p.active_wolf);\n        });\n        this.props.submitPlayer(playerList);\n    }\n\n    render() {\n        let row = [];\n        let error = this.state.numPlayer < 0 ? <p className=\"text-danger\"> Number of roles is not correct </p> : null;\n        ROLES.forEach(role => row.push(\n            <li className=\"list-group-item\" key={role}>\n                {role}\n                <span className=\"btn float-right\"\n                      onClick={() => {\n                          this.refs[role].value = Number(this.refs[role].value) + 1;\n                          this.changeSelectRemain()\n                      }}> <i className=\"fas fa-plus-circle text-white\" />\n                </span>\n                <input ref={role} className=\"form-control float-right roleInput\" type=\"text\" readOnly/>\n                <span className=\"btn float-right\" onClick={() => {\n                    this.refs[role].value = this.refs[role].value > 0 ? Number(this.refs[role].value) - 1 : this.refs[role].value;\n                    this.changeSelectRemain();\n                }\n                }> <i className=\"fas fa-minus-circle text-white\" />\n                </span>\n\n            </li>)\n        );\n        return (\n            <div>\n                <h3>Select roles: {this.state.numPlayer > 0 ? this.state.numPlayer + ' remain' : null}\n                </h3>\n                {this.state.error ? <p className=\"text-danger\"> this.state.error </p> : null}\n                <ul className=\"list-group\">\n                    {row}\n                </ul>\n                <br/>\n                {error ? error :\n                    <button className=\"btn btn-danger\" onClick={this.createPlayers.bind(this)}>Done</button>}\n            </div>\n        );\n    }\n}\n\n\nclass Night extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            night: this.props.night,\n            currentPlayer: this.props.players[0],\n            currentIndex: 0,\n            actions: {},\n        }\n    }\n\n    addAction(e) {\n        e.preventDefault();\n        let actions = this.state.actions;\n        this.props.players.forEach((player, index) => {\n            let refDiv = this.refs[player.pname];\n            let checkbox = refDiv.childNodes[0];\n            if (checkbox.checked) {\n                actions[this.state.currentIndex] = index;\n                checkbox.checked = false;\n                refDiv.style.background = '';\n                refDiv.style.color = '';\n            }\n        });\n\n        this.setState({actions: actions});\n\n        let index = this.state.currentIndex;\n        index += 1;\n        if (index === this.props.players.length) {\n            this.props.submitActions(this.state.actions);\n        } else {\n            let currentPlayer = this.props.players[index];\n            this.setState({\n                currentPlayer: currentPlayer,\n                currentIndex: index\n            });\n        }\n    }\n\n    changeColor() {\n        this.props.players.forEach((player, index) => {\n            let divRef = this.refs[player.pname];\n            if (divRef.childNodes[0].checked) {\n                divRef.style.background = 'red';\n                divRef.style.color = 'white';\n            } else {\n                divRef.style.background = 'lightcoral';\n                divRef.style.color = '';\n            }\n        });\n    }\n\n    render() {\n        let row = [];\n        this.props.players.forEach((player, index) => {\n            let inp = <div ref={player.pname} key={player.pname} className=\"radio-div\"\n                           onClick={this.changeColor.bind(this)}>\n                <input type=\"radio\" id={player.pname} name=\"target\" className=\"radio-input\"\n                       required/>\n                <label className=\"radio-label\" htmlFor={player.pname}>{player.pname}</label>\n            </div>;\n            row.push(inp)\n        });\n        return (\n            <div>\n                <h2>Night {this.state.night}</h2>\n                <h3>Turn of <span className=\"text-white\"> {this.state.currentPlayer.pname}</span></h3>\n                <form onSubmit={(e) => this.addAction.bind(this)(e)}>\n                     {row}\n                    <button type=\"submit\" className=\"mt-3 btn btn-danger\">Next</button>\n                </form>\n            </div>\n        );\n    }\n}\n\n\nclass Day extends Component {\n    executePlayer(e) {\n        e.preventDefault();\n        this.props.players.forEach((player, index) => {\n            if (this.refs[player.pname].childNodes[0].checked) {\n                this.props.executePlayer(player)\n            }\n        });\n    }\n\n    changeColor() {\n        this.props.players.forEach((player, index) => {\n            let divRef = this.refs[player.pname];\n            if (divRef.childNodes[0].checked) {\n                divRef.style.background = 'red';\n                divRef.style.color = 'white';\n            } else {\n                divRef.style.background = '';\n                divRef.style.color = '';\n            }\n        });\n    }\n\n\n    render() {\n        let row = [];\n        this.props.players.forEach((player, index) => {\n            let inp = <div ref={player.pname} key={player.pname} className=\"radio-div\"\n                           onClick={this.changeColor.bind(this)}>\n                <input type=\"radio\" id={player.pname} name=\"target\" className=\"radio-input\"\n                       required/>\n                <label className=\"radio-label\" htmlFor={player.pname}>{player.pname}</label>\n            </div>;\n            row.push(inp)\n        });\n        let originPlayers = this.props.originPlayers.map(player =>\n            <li>{player.pname}: {player.role} {player.active_wolf}</li>);\n        return (\n            <div>\n                <h3>Events: </h3>\n                <ul>\n                    {this.props.events ? this.props.events : \"Nothing happened\"}\n                </ul>\n\n                {this.props.gameOver !== null\n                    ? <div>\n                        <h3>{this.props.gameOver}</h3>\n                        <ul>{originPlayers}</ul>\n                        <h3>History</h3>\n                        <ul>{this.props.logs}</ul>\n                        <button onClick={() => this.props.restart()} className=\"btn btn-danger\">New game</button>\n                    </div>\n                    : <div>\n                        <h3> Who's the wolf ? </h3>\n                        <form onSubmit={(e) => this.executePlayer.bind(this)(e)}>\n                            {row}\n                            <button type=\"submit\" className=\"mt-3 mr-3 btn btn-danger\">Execute</button>\n                            <button onClick={() => this.props.nextPhase()} className=\"mt-3 btn btn-secondary\">Skip\n                            </button>\n                        </form>\n\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\n\nlet albert = new Player('Albert', 'Werewolf');\nalbert.active_wolf = 1;\nlet goldy = new Player('Goldy', 'Werewolf');\ngoldy.active_wolf = 2;\nconst DUMP_PLAYERS = [albert, goldy,\n    new Player('Alice', 'Seer'),\n    new Player('Golden', 'Hunter'),\n    new Player('Goldeny', 'Villager'),\n];\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            phase: 'setUpName',\n            players: [],\n            playerNames: [],\n            night: 1,\n            logs: [],\n        }\n    }\n\n    nextPhase() {\n        this.setState((state, props) => {\n            return {phase: 'night', night: state.night + 1}\n        })\n    }\n\n    submitPlayerNames(names) {\n        if (names.length !== 0) {\n            this.setState({\n                playerNames: names,\n                phase: 'setUpRole'\n            })\n        }\n    }\n\n    submitPlayer(players) {\n        let gameOver = this.gameOver(players);\n        if (gameOver) {\n            this.setState({\n                players: players,\n                originPlayers: players.slice(0),\n                phase: 'day',\n                gameOver: gameOver\n            })\n        } else {\n            this.setState({\n                players: players,\n                originPlayers: players.slice(0),\n                phase: 'night'\n            })\n        }\n    }\n\n    getActiveWolf() {\n        return this.state.players.filter(e => e.active_wolf !== null)\n            .reduce((prev, current) => (prev.active_wolf < current.active_wolf) ? prev : current)\n    }\n\n    submitActions(actions) {\n        let players = this.state.players;\n\n        // Handle Actions\n        let activeWolf = this.getActiveWolf(); console.log(activeWolf);\n        let logs = this.state.logs;\n        logs.push(<p><b>Night {this.state.night}</b></p>);\n        ROLES.forEach(role => {\n            players.forEach((player, index) => {\n                if (player.role === role) {\n                    let target = players[actions[index]];\n                    if (player.role !== 'Werewolf') {\n                        player.do_action(target);\n                    } else if (player === activeWolf) {\n                        player.do_action(target);\n                    }\n                    // Add logs\n                    logs.push(<li>{player.role}{player.active_wolf} choose {target.role}{target.active_wolf}</li>)\n                }\n            })\n        });\n\n        // Handle events\n        let dead_players = [];\n        let events = [];\n        players.forEach((player) => {\n            if (player.bitten) {\n                events.push(<li key={player.id}>{player.pname} died.</li>);\n                dead_players.push(player);\n                if (player.role === 'Hunter' && player.previous_target !== player) {\n                    events.push(<li key={player.previous_target.id}>{player.previous_target.pname} died.</li>);\n                    dead_players.push(player.previous_target);\n                }\n            }\n            if (player.muted)\n                events.push(<li key={player.id}>{player.pname} is muted.</li>);\n            if (player.seer) {\n                if (player.bitten)\n                    events.push(<li key={player.id}>{player.pname} needs to tell truth</li>);\n                else\n                    events.push(<li key={player.id}>{player.pname} needs to tell truth\n                        (truth: {player.previous_target.pname})</li>)\n            }\n            player.init_stats();\n        });\n\n        players = players.filter((e) => !dead_players.includes(e));\n        this.setState({\n            phase: 'day',\n            events: events,\n            players: players,\n            gameOver: this.gameOver(players),\n            logs: logs\n        });\n    }\n\n    gameOver(players) {\n        let countVillagers = 0;\n        players.forEach(player => {\n            countVillagers = player.role === 'Werewolf' ? countVillagers - 1 : countVillagers + 1\n        });\n        if (countVillagers === players.length)\n            return 'Villagers won.';\n        else if (countVillagers <= 0)\n            return 'Wolfs won.';\n        else\n            return null\n    }\n\n    restart() {\n        this.setState({\n            phase: 'setUpName',\n            players: [],\n            playerNames: [],\n            events: [],\n            night: 1,\n            logs: [],\n        })\n    }\n\n    executePlayer(player) {\n        let players = this.state.players.filter(e => e !== player);\n        let gameOver = this.gameOver(players);\n        if (!gameOver) {\n            this.setState((state, props) => {\n                return {\n                    players: players,\n                    phase: 'night',\n                    night: state.night + 1\n                }\n            })\n        } else {\n            this.setState({\n                players: players,\n                phase: 'day',\n                gameOver: gameOver\n            })\n        }\n\n    }\n\n    render() {\n        let phase = this.state.phase;\n\n        if (phase === 'setUpName')\n            return <SetUpPlayer submitPlayerNames={this.submitPlayerNames.bind(this)}/>;\n        else if (phase === 'setUpRole')\n            return <SetUpRole playerNames={this.state.playerNames} submitPlayer={this.submitPlayer.bind(this)}/>;\n        else if (phase === 'night')\n            return <Night players={this.state.players} night={this.state.night}\n                          submitActions={this.submitActions.bind(this)}/>;\n        else if (phase === 'day')\n            return <Day events={this.state.events}\n                        nextPhase={this.nextPhase.bind(this)}\n                        players={this.state.players}\n                        originPlayers={this.state.originPlayers}\n                        executePlayer={this.executePlayer.bind(this)}\n                        logs={this.state.logs}\n                        gameOver={this.state.gameOver} restart={this.restart.bind(this)}/>;\n        else\n            return <div> {phase} </div>\n    }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Werewolf';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}